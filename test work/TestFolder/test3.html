<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>https://zodlab.tistory.com/147</title>
    <style> 
    #user, #list-item-template { 
        display: none; 
        background-color: pink;
    } 
    .list-item-name { 
        cursor: pointer; 
        background-color: rgb(149, 0, 248);
        color: rgb(217, 255, 0);
    } 
    </style>
</head>
<body>
    
<div id="test"> 
    <h1>jsonplaceholder</h1> 
    <hr> 
    <section id="user"> 
        <div class="list"> 

        </div> 
    </section> 
        <div id="list-item-template"> 
            <p class="list-item-name"></p> 
        </div> 
    </div> 
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        $(function(){ 
            getData(); 
        }); 
        function getData(){ 
            const url = 'https://jsonplaceholder.typicode.com/users'; 
            $.getJSON(url, {}, function(r){ console.log(r); 
            const $list = $(".list"); for(let i = 0; i < r.length; i++){ 
                const data = r[i]; const $item = createItem(data); $list.append($item); 
            } $("#user").show(); 
            });
        } 
        function createItem(data){ 
            let $tmpl = $("#list-item-template").clone().removeAttr("id"); 
            $tmpl.find(".list-item-name").html(data.name); 
            $tmpl.click(function(e){ 
                let url = 'testDetail.html?id=' + data.id; window.location = url; 
            }); 
            return $tmpl; 

            let $tmpl2 = $('#list-item-template').clone().removeAttr("id");
            $tmpl2.find(".list-item-name").html(data.email);
            $tmpl2.click(function(e){ 
                let url = 'testDetail.html?id=' + data.id; window.location = url; 
            }); 
            return $tmpl2;
        }
    </script>
</body>
</html>